<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Moreno‚Äòs Workout App</title>
<style>
body { font-family: Arial,sans-serif; background:#121212; color:#FFD700; padding:15px; }
h1,h2{text-align:center;}
.card { background:#1e1e1e; padding:12px; margin-bottom:10px; border-radius:8px; }
input { width:65px; padding:5px; margin:3px; border-radius:6px; border:none; text-align:center; }
textarea { width:100%; padding:6px; margin-top:6px; border-radius:6px; border:none; }
button { width:100%; padding:10px; margin-top:10px; background:#FFD700; border:none; color:#121212; font-weight:bold; border-radius:6px; cursor:pointer; }
.reset-button { background:#dc3545; color:white; }
.exercise-title { font-weight:bold; margin-bottom:4px; }
small { color:#bbb; display:block; }
.gruen { background:#28a745; color:white; }
.gelb { background:#ffc107; color:black; }
.rot { background:#dc3545; color:white; }
select { padding:6px; border-radius:6px; margin-bottom:12px;}
</style>
</head>
<body>

<h1>Moreno‚Äòs Workout App üèãÔ∏è</h1>

<div style="text-align:center;">
<label>Trainingstag: </label>
<select id="day">
  <option value="Montag">Montag</option>
  <option value="Mittwoch">Mittwoch</option>
  <option value="Freitag">Freitag</option>
</select>
</div>

<div id="exercises"></div>

<label>Notiz:</label>
<textarea id="note" placeholder="z.B. Tempo beachten..."></textarea>

<button onclick="saveWorkout()">Training speichern</button>
<button class="reset-button" onclick="resetAllData()">Alle Daten zur√ºcksetzen</button>

<h2>Letztes Training</h2>
<div id="history"></div>

<script>
// Trainingsplan
const plan = {
"Montag":[
{name:"Back Squat", sets:5, reps:"3-5", info:"Kraftfokus, progressive Steigerung"},
{name:"Romanian Deadlift", sets:3, reps:"6-8", info:"Hamstrings, kontrolliertes Tempo"},
{name:"Bulgarian Split Squat", sets:3, reps:"8-10", info:"3 Sek absinken, explosiv hoch"},
{name:"Bankdr√ºcken mit Pause", sets:3, reps:"6-8", info:"1 Sek Pause auf Brust"},
{name:"Hanging Leg Raises", sets:3, reps:"12-15", info:"Bauchmuskeln, kontrolliert"},
{name:"Wadenheben", sets:3, reps:"15-20", info:"Stehend, langsam oben halten"}
],
"Mittwoch":[
{name:"Bankdr√ºcken schwer", sets:5, reps:"3-5", info:"Kraftfokus"},
{name:"Pull-Ups / Latzug", sets:4, reps:"5-6", info:"Breiter Griff"},
{name:"Schr√§gbank + Rudern", sets:3, reps:"8-10", info:"Supersatz"},
{name:"Trizeps", sets:3, reps:"12", info:"Kabel oder Dips"},
{name:"Bizeps", sets:3, reps:"12", info:"Langhantel oder Kurzhantel"},
{name:"Face Pulls / Seitheben", sets:2, reps:"15", info:"Drop Set f√ºr Schulter, Hinterkopf"}
],
"Freitag":[
{name:"Deadlift / Trap Bar", sets:4, reps:"3-5", info:"Kraftfokus"},
{name:"Schulterdr√ºcken", sets:4, reps:"6-8", info:"Langhantel oder Kurzhantel"},
{name:"Latzug neutral / Klimmz√ºge", sets:3, reps:"8-10", info:"R√ºckenbreite"},
{name:"Beinpresse / Hack Squat", sets:3, reps:"10-12", info:"Tempo kontrolliert"},
{name:"Hip Thrust", sets:3, reps:"8-10", info:"Glutes Fokus"},
{name:"Wadenheben", sets:3, reps:"15-20", info:"Langsam halten oben"}
]
};

// √úbungen rendern
function render(){
  const day = document.getElementById("day").value;
  const container = document.getElementById("exercises");
  container.innerHTML="";

  const saved = JSON.parse(localStorage.getItem(day)) || null;

  plan[day].forEach((ex,i)=>{
    container.innerHTML += `<div class="card">
      <div class="exercise-title">${ex.name} <small>${ex.sets} x ${ex.reps} | ${ex.info}</small></div>`;
    for(let s=0;s<ex.sets;s++){
      let lastVal = 0;
      if(saved && saved.exercises[ex.name]){
        lastVal = saved.exercises[ex.name][s] || 0;
      }
      container.innerHTML += `Satz ${s+1}: <input type="text" id="${day}_${i}_${s}" placeholder="${lastVal ? lastVal+' kg' : 'kg'}" value="${lastVal || ''}"><br>`;
    }
    container.innerHTML += `</div>`;
  });

  document.getElementById("note").value = saved ? saved.note : "";
  showHistory(day);
  applyColors(day);
}

// Farben f√ºr Fortschritt
function applyColors(day){
  const saved = JSON.parse(localStorage.getItem(day)) || null;
  if(!saved) return;
  plan[day].forEach((ex,i)=>{
    for(let s=0;s<ex.sets;s++){
      const input = document.getElementById(`${day}_${i}_${s}`);
      if(!input) continue;
      let val = input.value.replace(",",".").replace("/",".");  // Komma oder / in Punkt
      const current = parseFloat(val)||0;
      const last = saved.exercises[ex.name]?.[s] || 0;
      input.classList.remove("gruen","gelb","rot");
      if(current>last) input.classList.add("gruen");
      else if(current===last && current!==0) input.classList.add("gelb");
      else if(current<last) input.classList.add("rot");
    }
  });
}

// Speichern
function saveWorkout(){
  const day = document.getElementById("day").value;
  const data = { date: new Date().toLocaleString(), note:document.getElementById("note").value, exercises:{} };
  plan[day].forEach((ex,i)=>{
    let weights = [];
    for(let s=0;s<ex.sets;s++){
      let val = document.getElementById(`${day}_${i}_${s}`).value;
      val = val.replace(",",".").replace("/","."); // Komma oder / in Punkt
      weights.push(parseFloat(val)||0);
    }
    data.exercises[ex.name] = weights;
  });
  localStorage.setItem(day, JSON.stringify(data));
  alert("Training gespeichert ‚úî");
  render();
}

// Letztes Training anzeigen
function showHistory(day){
  const container = document.getElementById("history");
  const saved = JSON.parse(localStorage.getItem(day));
  if(!saved){ container.innerHTML="Kein Training gespeichert."; return; }
  let html = `<div class="card"><strong>${saved.date}</strong><br>`;
  for(const ex in saved.exercises){
    html += `${ex}: ${saved.exercises[ex].join(", ")} kg<br>`;
  }
  if(saved.note) html += `<br><em>Notiz:</em> ${saved.note}`;
  html += "</div>";
  container.innerHTML = html;
}

// Reset-Button Funktion
function resetAllData(){
  if(confirm("Alle Trainingsdaten wirklich l√∂schen?")){
    localStorage.clear();
    alert("Alle Daten wurden gel√∂scht ‚úî");
    render();
  }
}

// Dropdown Event
document.getElementById("day").addEventListener("change", render);

// Initial render
render();
</script>
</body>
</html>
