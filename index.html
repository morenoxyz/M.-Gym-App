<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Moreno‚Äòs Workout App</title>

<style>
body {
  font-family: Arial, sans-serif;
  background:#121212;
  color:#FFD700;
  padding:15px;
}

h1,h2 { text-align:center; }

.card {
  background:#1e1e1e;
  padding:12px;
  margin-bottom:12px;
  border-radius:8px;
}

input {
  width:65px;
  padding:5px;
  margin:4px 2px;
  border-radius:6px;
  border:none;
  text-align:center;
}

textarea {
  width:100%;
  padding:6px;
  border-radius:6px;
  border:none;
  margin-top:6px;
}

button {
  width:100%;
  padding:10px;
  margin-top:15px;
  background:#FFD700;
  border:none;
  color:#121212;
  font-weight:bold;
  border-radius:8px;
}

.exercise-title {
  font-weight:bold;
  margin-bottom:4px;
}

small {
  color:#bbb;
  display:block;
}

.gruen { background:#28a745; color:white; }
.gelb { background:#ffc107; color:black; }
.rot { background:#dc3545; color:white; }

select {
  padding:6px;
  border-radius:6px;
}
</style>
</head>

<body>

<h1>Moreno‚Äòs Workout App üèãÔ∏è</h1>

<div style="text-align:center; margin-bottom:15px;">
<select id="day">
<option value="Montag">Montag</option>
<option value="Mittwoch">Mittwoch</option>
<option value="Freitag">Freitag</option>
</select>
</div>

<div id="exercises"></div>

<label>Notiz:</label>
<textarea id="note" placeholder="z.B. schwer heute, Tempo verbessern..."></textarea>

<button onclick="saveWorkout()">Training speichern</button>

<h2>Letztes Training</h2>
<div id="history"></div>

<script>

const plan = {

"Montag":[
{name:"Back Squat", sets:5, reps:"3-5"},
{name:"Romanian Deadlift", sets:3, reps:"6-8"},
{name:"Bulgarian Split Squat", sets:3, reps:"8-10"},
{name:"Bankdr√ºcken mit Pause", sets:3, reps:"6-8"},
{name:"Hanging Leg Raises", sets:3, reps:"12-15"},
{name:"Wadenheben", sets:3, reps:"15-20"}
],

"Mittwoch":[
{name:"Bankdr√ºcken schwer", sets:5, reps:"3-5"},
{name:"Pull-Ups / Latzug", sets:4, reps:"5-6"},
{name:"Schr√§gbank + Rudern", sets:3, reps:"8-10"},
{name:"Trizeps", sets:3, reps:"12"},
{name:"Bizeps", sets:3, reps:"12"}
],

"Freitag":[
{name:"Deadlift / Trap Bar", sets:4, reps:"3-5"},
{name:"Schulterdr√ºcken", sets:4, reps:"6-8"},
{name:"Beinpresse", sets:3, reps:"10-12"},
{name:"Hip Thrust", sets:3, reps:"8-10"},
{name:"Wadenheben", sets:3, reps:"15-20"}
]

};


// √úbungen anzeigen
function render(){

const day = document.getElementById("day").value;
const container = document.getElementById("exercises");
container.innerHTML="";

const saved = JSON.parse(localStorage.getItem(day)) || null;

plan[day].forEach((ex, i)=>{

container.innerHTML += `<div class="card">
<div class="exercise-title">${ex.name} <small>${ex.sets} x ${ex.reps}</small></div>`;

for(let s=0; s<ex.sets; s++){

let lastVal = 0;
if(saved && saved.exercises[ex.name]){
lastVal = saved.exercises[ex.name][s] || 0;
}

container.innerHTML += `
Satz ${s+1}:
<input type="number"
id="${day}_${i}_${s}"
value="${lastVal}"
placeholder="kg">
`;
}

container.innerHTML += `</div>`;
});

if(saved){
document.getElementById("note").value = saved.note || "";
showHistory(saved);
}else{
document.getElementById("note").value="";
document.getElementById("history").innerHTML="Kein Training gespeichert.";
}

applyColors();
}


// Farben vergleichen
function applyColors(){

const day = document.getElementById("day").value;
const saved = JSON.parse(localStorage.getItem(day)) || null;

if(!saved) return;

plan[day].forEach((ex,i)=>{

for(let s=0; s<ex.sets; s++){

const input = document.getElementById(`${day}_${i}_${s}`);
if(!input) continue;

const current = parseFloat(input.value) || 0;
const last = saved.exercises[ex.name]?.[s] || 0;

input.classList.remove("gruen","gelb","rot");

if(current > last) input.classList.add("gruen");
else if(current === last && current !== 0) input.classList.add("gelb");
else if(current < last) input.classList.add("rot");

}

});

}


// Speichern
function saveWorkout(){

const day = document.getElementById("day").value;

const data = {
date: new Date().toLocaleString(),
note: document.getElementById("note").value,
exercises:{}
};

plan[day].forEach((ex,i)=>{

let weights=[];

for(let s=0; s<ex.sets; s++){

const val = document.getElementById(`${day}_${i}_${s}`).value;
weights.push(parseFloat(val) || 0);

}

data.exercises[ex.name] = weights;

});

localStorage.setItem(day, JSON.stringify(data));

alert("Gespeichert ‚úî");

render();

}


// Letztes Training anzeigen
function showHistory(entry){

let html = `<div class="card"><strong>${entry.date}</strong><br>`;

for(const ex in entry.exercises){
html += `${ex}: ${entry.exercises[ex].join(", ")} kg<br>`;
}

if(entry.note){
html += `<br><em>Notiz:</em> ${entry.note}`;
}

html += "</div>";

document.getElementById("history").innerHTML = html;

}


// Wechsel Tag
document.getElementById("day").addEventListener("change", render);

render();

</script>
</body>
</html>
